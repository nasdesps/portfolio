<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Part 1: Reviving an Old Laptop with Debian &amp; Docker | Prajwol Bikram Adhikari</title>
<meta name="keywords" content="Homelab, Debian, Docker, Docker Compose, Self-Hosting, Linux, Server, Firewall, UFW, SSH">
<meta name="description" content="Introduction
Welcome to the first post in my new homelab series! I&rsquo;ve always been fascinated by self-hosting and DevOps, and I believe the best way to learn is by doing. In this series, I&rsquo;ll document my journey of turning an old, unused laptop into a powerful, efficient, and secure bare-metal server for hosting a variety of network services.
The goal for this first part is to lay a solid foundation. We&rsquo;ll take an old laptop, install a minimal and stable Linux operating system, perform some initial security hardening, and set up Docker as our containerization engine. By the end of this post, we&rsquo;ll have a perfect blank canvas ready for the exciting services we&rsquo;ll deploy in the upcoming parts.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/projects/homelab-series-part-1-debian-docker-foundation/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.8e159e62f02d7d4d5f548c516c00a4346c80759206bcad8dd5461667130fd389.css" integrity="sha256-jhWeYvAtfU1fVIxRbACkNGyAdZIGvK2N1UYWZxMP04k=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2eadbb982468c11a433a3e291f01326f2ba43f065e256bf792dbd79640a92316.js" integrity="sha256-Lq27mCRowRpDOj4pHwEybyukPwZeJWv3ktvXlkCpIxY="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/homelab-series-part-1-debian-docker-foundation/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Part 1: Reviving an Old Laptop with Debian &amp; Docker" />
<meta property="og:description" content="Introduction
Welcome to the first post in my new homelab series! I&rsquo;ve always been fascinated by self-hosting and DevOps, and I believe the best way to learn is by doing. In this series, I&rsquo;ll document my journey of turning an old, unused laptop into a powerful, efficient, and secure bare-metal server for hosting a variety of network services.
The goal for this first part is to lay a solid foundation. We&rsquo;ll take an old laptop, install a minimal and stable Linux operating system, perform some initial security hardening, and set up Docker as our containerization engine. By the end of this post, we&rsquo;ll have a perfect blank canvas ready for the exciting services we&rsquo;ll deploy in the upcoming parts." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/projects/homelab-series-part-1-debian-docker-foundation/" />
<meta property="og:image" content="http://localhost:1313/projects/homelab-part1/laptop_server.png" /><meta property="article:section" content="projects" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/projects/homelab-part1/laptop_server.png" />
<meta name="twitter:title" content="Part 1: Reviving an Old Laptop with Debian &amp; Docker"/>
<meta name="twitter:description" content="Introduction
Welcome to the first post in my new homelab series! I&rsquo;ve always been fascinated by self-hosting and DevOps, and I believe the best way to learn is by doing. In this series, I&rsquo;ll document my journey of turning an old, unused laptop into a powerful, efficient, and secure bare-metal server for hosting a variety of network services.
The goal for this first part is to lay a solid foundation. We&rsquo;ll take an old laptop, install a minimal and stable Linux operating system, perform some initial security hardening, and set up Docker as our containerization engine. By the end of this post, we&rsquo;ll have a perfect blank canvas ready for the exciting services we&rsquo;ll deploy in the upcoming parts."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Projects",
      "item": "http://localhost:1313/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Part 1: Reviving an Old Laptop with Debian \u0026 Docker",
      "item": "http://localhost:1313/projects/homelab-series-part-1-debian-docker-foundation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Part 1: Reviving an Old Laptop with Debian \u0026 Docker",
  "name": "Part 1: Reviving an Old Laptop with Debian \u0026 Docker",
  "description": "Introduction Welcome to the first post in my new homelab series! I\u0026rsquo;ve always been fascinated by self-hosting and DevOps, and I believe the best way to learn is by doing. In this series, I\u0026rsquo;ll document my journey of turning an old, unused laptop into a powerful, efficient, and secure bare-metal server for hosting a variety of network services.\nThe goal for this first part is to lay a solid foundation. We\u0026rsquo;ll take an old laptop, install a minimal and stable Linux operating system, perform some initial security hardening, and set up Docker as our containerization engine. By the end of this post, we\u0026rsquo;ll have a perfect blank canvas ready for the exciting services we\u0026rsquo;ll deploy in the upcoming parts.\n",
  "keywords": [
    "Homelab", "Debian", "Docker", "Docker Compose", "Self-Hosting", "Linux", "Server", "Firewall", "UFW", "SSH"
  ],
  "articleBody": "Introduction Welcome to the first post in my new homelab series! I’ve always been fascinated by self-hosting and DevOps, and I believe the best way to learn is by doing. In this series, I’ll document my journey of turning an old, unused laptop into a powerful, efficient, and secure bare-metal server for hosting a variety of network services.\nThe goal for this first part is to lay a solid foundation. We’ll take an old laptop, install a minimal and stable Linux operating system, perform some initial security hardening, and set up Docker as our containerization engine. By the end of this post, we’ll have a perfect blank canvas ready for the exciting services we’ll deploy in the upcoming parts.\n1. Choosing the Hardware \u0026 OS Why an Old Laptop? Before diving in, why use an old laptop instead of a Raspberry Pi or a dedicated server? For a starter homelab, a laptop has three huge advantages:\nCost-Effective: It’s free if you have one lying around! Built-in UPS: The battery acts as a built-in Uninterruptible Power Supply (UPS), keeping the server running through short power outages. Low Power Consumption: Laptop hardware is designed to be power-efficient, which is great for a device that will be running 24/7. Why Debian 13 “Trixie”? For the operating system, I chose Debian. It’s renowned for its stability, security, and massive package repository. It’s the bedrock of many other distributions (like Ubuntu) and is perfect for a server because it’s lightweight and doesn’t include unnecessary software. We’ll be using the minimal “net-install” to ensure we only install what we absolutely need.\n2. Installation and Network Configuration The installation process is straightforward, but the network setup is key to a reliable server.\nMinimal Installation Create a Bootable USB: I downloaded the Debian 13 “netinst” ISO from the official website and used Rufus on Windows to create a bootable USB drive. Boot from USB: I plugged the USB into the laptop and booted from it (usually pressing F12, F2, or Esc during startup to select the USB device). Language, Location, and Keyboard: Selected English, United States, and the default keyboard layout. Network Setup: Connected the laptop to my home network (Ethernet preferred for stability). Hostname \u0026 Domain: Entered a short, memorable hostname for the server (e.g., homelab) and left the domain blank. User Accounts: Set a root password. Created a non-root regular user (this will be used for daily management). Partition Disks: Chose Guided – use entire disk with separate /home partition. This is simpler for a server setup. Software Selection: At the “Software selection” screen: Unchecked “Debian desktop environment” Checked “SSH server” and “standard system utilities” This ensures a clean command-line system that can be accessed remotely. GRUB Bootloader: Installed GRUB on the primary drive (so the system boots correctly). Finish Installation: Removed the USB drive when prompted and rebooted into the fresh Debian install. Setting a Static IP A server needs a permanent, unchanging IP address. The best way to do this is with DHCP Reservation on your router. This tells your router to always assign the same IP address to your server’s unique MAC address.\nFirst, find your laptop’s current IP address and network interface name by running:\nip a You’ll see output similar to:\n2: enp3s0: mtu 1500 qdisc fq_codel state UP group default qlen 1000\rinet 192.168.0.45/24 brd 192.168.0.255 scope global dynamic enp3s0\rvalid_lft 86396sec preferred_lft 86396sec In this example:\nInterface name: enp3s0 Current IP: 192.168.0.45 MAC address: shown under link/ether in the same section. With this info, log into your router’s admin panel, find the “DHCP Reservation” or “Static Leases” section, and assign a memorable IP address (e.g., 192.168.0.45) to your server’s MAC address.\nThis ensures the server always gets the same IP from your router, making it easy to find on your network.\nConnecting Remotely with SSH With a static IP set, all future management will be done remotely using an SSH client. For Windows, I highly recommend Solar-PuTTY. I created a new session, entered the server’s static IP address, my username, and password, and connected.\n3. Initial Server Hardening With a remote SSH session active, the first thing to do is secure the server and configure it for its headless role.\nUpdate the System First, let’s make sure all packages are up to date.\nsudo apt update \u0026\u0026 sudo apt upgrade -y Configure the Firewall ufw (Uncomplicated Firewall) is perfect for a simple setup. We’ll set it to deny all incoming traffic by default and only allow SSH connections.\n# Install UFW sudo apt install ufw -y # Allow SSH connections sudo ufw allow ssh # Enable the firewall sudo ufw enable Configure Lid-Close Action To ensure the laptop keeps running when the lid is closed, we edit the logind.conf file.\nsudo nano /etc/systemd/logind.conf Uncomment the line:\nHandleLidSwitch=ignore Save the file, then restart the service:\nsudo systemctl restart systemd-logind.service 4. Installing the Containerization Engine: Docker Instead of installing applications directly on our host, we’ll use Docker to keep the system clean and make management easier.\nInstall Docker Engine The official convenience script is the easiest way to get the latest version.\ncurl -fsSL https://get.docker.com -o get-docker.sh sudo sh get-docker.sh Add User to Docker Group To run docker commands without sudo, add your user to the docker group. The $USER variable automatically uses the currently logged-in user.\nsudo usermod -aG docker $USER After this, log out and log back in for the change to take effect.\nInstall Docker Compose Docker Compose is essential for managing multi-container applications with a simple YAML file.\nsudo apt install docker-compose-plugin -y To verify the installation:\ndocker compose version Conclusion And that’s it for Part 1! We’ve successfully turned an old piece of hardware into a hardened, modern server running Debian and Docker with a reliable network configuration. We have a solid and secure foundation to build upon.\nIn the next part of the series, we’ll deploy our first critical service: a local, network-wide ad-blocking DNS resolver using AdGuard Home. Stay tuned!\n",
  "wordCount" : "997",
  "inLanguage": "en",
  "image":"http://localhost:1313/projects/homelab-part1/laptop_server.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/projects/homelab-series-part-1-debian-docker-foundation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Prajwol Bikram Adhikari",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header sticky-header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Prajwol Bikram Adhikari (Alt + H)">Prajwol Bikram Adhikari</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li></li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/experience" title="Experience">
                    <span>Experience</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/projects/">Projects</a></div>
    <h1 class="post-title">
      Part 1: Reviving an Old Laptop with Debian &amp; Docker
    </h1>
    <div class="post-meta">


Sep 2025

</div>
  </header>
    <figure class="entry-cover">
        <img loading="lazy" 
             src="http://localhost:1313/projects/homelab-part1/laptop_server_hu_e357150d1d3c38cb.webp" 
             alt="Cover image for Part 1: Reviving an Old Laptop with Debian &amp; Docker" 
             width="1040" 
             height="567">
    </figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">‎ Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#1-choosing-the-hardware--os" aria-label="1. Choosing the Hardware &amp; OS">1. Choosing the Hardware &amp; OS</a><ul>
                        
                <li>
                    <a href="#why-an-old-laptop" aria-label="Why an Old Laptop?">Why an Old Laptop?</a></li>
                <li>
                    <a href="#why-debian-13-trixie" aria-label="Why Debian 13 &ldquo;Trixie&rdquo;?">Why Debian 13 &ldquo;Trixie&rdquo;?</a></li></ul>
                </li>
                <li>
                    <a href="#2-installation-and-network-configuration" aria-label="2. Installation and Network Configuration">2. Installation and Network Configuration</a><ul>
                        
                <li>
                    <a href="#minimal-installation" aria-label="Minimal Installation">Minimal Installation</a></li>
                <li>
                    <a href="#setting-a-static-ip" aria-label="Setting a Static IP">Setting a Static IP</a></li>
                <li>
                    <a href="#connecting-remotely-with-ssh" aria-label="Connecting Remotely with SSH">Connecting Remotely with SSH</a></li></ul>
                </li>
                <li>
                    <a href="#3-initial-server-hardening" aria-label="3. Initial Server Hardening">3. Initial Server Hardening</a><ul>
                        
                <li>
                    <a href="#update-the-system" aria-label="Update the System">Update the System</a></li>
                <li>
                    <a href="#configure-the-firewall" aria-label="Configure the Firewall">Configure the Firewall</a></li>
                <li>
                    <a href="#configure-lid-close-action" aria-label="Configure Lid-Close Action">Configure Lid-Close Action</a></li></ul>
                </li>
                <li>
                    <a href="#4-installing-the-containerization-engine-docker" aria-label="4. Installing the Containerization Engine: Docker">4. Installing the Containerization Engine: Docker</a><ul>
                        
                <li>
                    <a href="#install-docker-engine" aria-label="Install Docker Engine">Install Docker Engine</a></li>
                <li>
                    <a href="#add-user-to-docker-group" aria-label="Add User to Docker Group">Add User to Docker Group</a></li>
                <li>
                    <a href="#install-docker-compose" aria-label="Install Docker Compose">Install Docker Compose</a></li></ul>
                </li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h3>
<p>Welcome to the first post in my new homelab series! I&rsquo;ve always been fascinated by self-hosting and DevOps, and I believe the best way to learn is by doing. In this series, I&rsquo;ll document my journey of turning an old, unused laptop into a powerful, efficient, and secure bare-metal server for hosting a variety of network services.</p>
<p>The goal for this first part is to lay a solid foundation. We&rsquo;ll take an old laptop, install a minimal and stable Linux operating system, perform some initial security hardening, and set up Docker as our containerization engine. By the end of this post, we&rsquo;ll have a perfect blank canvas ready for the exciting services we&rsquo;ll deploy in the upcoming parts.</p>
<hr>
<h3 id="1-choosing-the-hardware--os">1. Choosing the Hardware &amp; OS<a hidden class="anchor" aria-hidden="true" href="#1-choosing-the-hardware--os">#</a></h3>
<h4 id="why-an-old-laptop">Why an Old Laptop?<a hidden class="anchor" aria-hidden="true" href="#why-an-old-laptop">#</a></h4>
<p>Before diving in, why use an old laptop instead of a Raspberry Pi or a dedicated server? For a starter homelab, a laptop has three huge advantages:</p>
<ul>
<li><strong>Cost-Effective:</strong> It&rsquo;s free if you have one lying around!</li>
<li><strong>Built-in UPS:</strong> The battery acts as a built-in Uninterruptible Power Supply (UPS), keeping the server running through short power outages.</li>
<li><strong>Low Power Consumption:</strong> Laptop hardware is designed to be power-efficient, which is great for a device that will be running 24/7.</li>
</ul>
<h4 id="why-debian-13-trixie">Why Debian 13 &ldquo;Trixie&rdquo;?<a hidden class="anchor" aria-hidden="true" href="#why-debian-13-trixie">#</a></h4>
<p>For the operating system, I chose Debian. It&rsquo;s renowned for its stability, security, and massive package repository. It’s the bedrock of many other distributions (like Ubuntu) and is perfect for a server because it&rsquo;s lightweight and doesn&rsquo;t include unnecessary software. We&rsquo;ll be using the minimal &ldquo;net-install&rdquo; to ensure we only install what we absolutely need.</p>
<hr>
<h3 id="2-installation-and-network-configuration">2. Installation and Network Configuration<a hidden class="anchor" aria-hidden="true" href="#2-installation-and-network-configuration">#</a></h3>
<p>The installation process is straightforward, but the network setup is key to a reliable server.</p>
<h4 id="minimal-installation">Minimal Installation<a hidden class="anchor" aria-hidden="true" href="#minimal-installation">#</a></h4>
<ol>
<li><strong>Create a Bootable USB:</strong> I downloaded the Debian 13 &ldquo;netinst&rdquo; ISO from the official website and used Rufus on Windows to create a bootable USB drive.</li>
<li><strong>Boot from USB:</strong> I plugged the USB into the laptop and booted from it (usually pressing <strong>F12</strong>, <strong>F2</strong>, or <strong>Esc</strong> during startup to select the USB device).</li>
<li><strong>Language, Location, and Keyboard:</strong> Selected English, United States, and the default keyboard layout.</li>
<li><strong>Network Setup:</strong> Connected the laptop to my home network (Ethernet preferred for stability).</li>
<li><strong>Hostname &amp; Domain:</strong> Entered a short, memorable hostname for the server (e.g., <code>homelab</code>) and left the domain blank.</li>
<li><strong>User Accounts:</strong>
<ul>
<li>Set a <strong>root password</strong>.</li>
<li>Created a non-root <strong>regular user</strong> (this will be used for daily management).</li>
</ul>
</li>
<li><strong>Partition Disks:</strong> Chose <strong>Guided – use entire disk</strong> with <strong>separate /home partition</strong>. This is simpler for a server setup.</li>
<li><strong>Software Selection:</strong> At the “Software selection” screen:
<ul>
<li><strong>Unchecked</strong> “Debian desktop environment”</li>
<li><strong>Checked</strong> “SSH server” and “standard system utilities”</li>
<li>This ensures a clean command-line system that can be accessed remotely.</li>
</ul>
</li>
<li><strong>GRUB Bootloader:</strong> Installed GRUB on the primary drive (so the system boots correctly).</li>
<li><strong>Finish Installation:</strong> Removed the USB drive when prompted and rebooted into the fresh Debian install.</li>
</ol>
<h4 id="setting-a-static-ip">Setting a Static IP<a hidden class="anchor" aria-hidden="true" href="#setting-a-static-ip">#</a></h4>
<p>A server needs a permanent, unchanging IP address. The best way to do this is with <strong>DHCP Reservation</strong> on your router. This tells your router to always assign the same IP address to your server&rsquo;s unique MAC address.</p>
<p>First, find your laptop’s current IP address and network interface name by running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ip a
</span></span></code></pre></div><p>You’ll see output similar to:</p>
<pre tabindex="0"><code>2: enp3s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    inet 192.168.0.45/24 brd 192.168.0.255 scope global dynamic enp3s0
       valid_lft 86396sec preferred_lft 86396sec
</code></pre><p>In this example:</p>
<ul>
<li><strong>Interface name:</strong> <code>enp3s0</code></li>
<li><strong>Current IP:</strong> <code>192.168.0.45</code></li>
<li><strong>MAC address:</strong> shown under <code>link/ether</code> in the same section.</li>
</ul>
<p>With this info, log into your router’s admin panel, find the &ldquo;DHCP Reservation&rdquo; or &ldquo;Static Leases&rdquo; section, and assign a memorable IP address (e.g., <code>192.168.0.45</code>) to your server’s MAC address.</p>
<p>This ensures the server always gets the same IP from your router, making it easy to find on your network.</p>
<h4 id="connecting-remotely-with-ssh">Connecting Remotely with SSH<a hidden class="anchor" aria-hidden="true" href="#connecting-remotely-with-ssh">#</a></h4>
<p>With a static IP set, all future management will be done remotely using an SSH client. For Windows, I highly recommend <strong>Solar-PuTTY</strong>. I created a new session, entered the server&rsquo;s static IP address, my username, and password, and connected.</p>
<hr>
<h3 id="3-initial-server-hardening">3. Initial Server Hardening<a hidden class="anchor" aria-hidden="true" href="#3-initial-server-hardening">#</a></h3>
<p>With a remote SSH session active, the first thing to do is secure the server and configure it for its headless role.</p>
<h4 id="update-the-system">Update the System<a hidden class="anchor" aria-hidden="true" href="#update-the-system">#</a></h4>
<p>First, let&rsquo;s make sure all packages are up to date.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update <span style="color:#f92672">&amp;&amp;</span> sudo apt upgrade -y
</span></span></code></pre></div><h4 id="configure-the-firewall">Configure the Firewall<a hidden class="anchor" aria-hidden="true" href="#configure-the-firewall">#</a></h4>
<p><code>ufw</code> (Uncomplicated Firewall) is perfect for a simple setup. We&rsquo;ll set it to deny all incoming traffic by default and only allow SSH connections.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Install UFW</span>
</span></span><span style="display:flex;"><span>sudo apt install ufw -y
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Allow SSH connections</span>
</span></span><span style="display:flex;"><span>sudo ufw allow ssh
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable the firewall</span>
</span></span><span style="display:flex;"><span>sudo ufw enable
</span></span></code></pre></div><h4 id="configure-lid-close-action">Configure Lid-Close Action<a hidden class="anchor" aria-hidden="true" href="#configure-lid-close-action">#</a></h4>
<p>To ensure the laptop keeps running when the lid is closed, we edit the <code>logind.conf</code> file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo nano /etc/systemd/logind.conf
</span></span></code></pre></div><p>Uncomment the line:</p>
<pre tabindex="0"><code>HandleLidSwitch=ignore
</code></pre><p>Save the file, then restart the service:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl restart systemd-logind.service
</span></span></code></pre></div><hr>
<h3 id="4-installing-the-containerization-engine-docker">4. Installing the Containerization Engine: Docker<a hidden class="anchor" aria-hidden="true" href="#4-installing-the-containerization-engine-docker">#</a></h3>
<p>Instead of installing applications directly on our host, we&rsquo;ll use Docker to keep the system clean and make management easier.</p>
<h4 id="install-docker-engine">Install Docker Engine<a hidden class="anchor" aria-hidden="true" href="#install-docker-engine">#</a></h4>
<p>The official convenience script is the easiest way to get the latest version.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -fsSL https://get.docker.com -o get-docker.sh
</span></span><span style="display:flex;"><span>sudo sh get-docker.sh
</span></span></code></pre></div><h4 id="add-user-to-docker-group">Add User to Docker Group<a hidden class="anchor" aria-hidden="true" href="#add-user-to-docker-group">#</a></h4>
<p>To run docker commands without <code>sudo</code>, add your user to the docker group. The <code>$USER</code> variable automatically uses the currently logged-in user.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo usermod -aG docker $USER
</span></span></code></pre></div><p>After this, log out and log back in for the change to take effect.</p>
<h4 id="install-docker-compose">Install Docker Compose<a hidden class="anchor" aria-hidden="true" href="#install-docker-compose">#</a></h4>
<p>Docker Compose is essential for managing multi-container applications with a simple YAML file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install docker-compose-plugin -y
</span></span></code></pre></div><p>To verify the installation:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose version
</span></span></code></pre></div><hr>
<h3 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h3>
<p>And that&rsquo;s it for Part 1! We&rsquo;ve successfully turned an old piece of hardware into a hardened, modern server running Debian and Docker with a reliable network configuration. We have a solid and secure foundation to build upon.</p>
<p>In the next part of the series, we&rsquo;ll deploy our first critical service: a local, network-wide ad-blocking DNS resolver using AdGuard Home. Stay tuned!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/homelab/">Homelab</a></li>
      <li><a href="http://localhost:1313/tags/debian/">Debian</a></li>
      <li><a href="http://localhost:1313/tags/docker/">Docker</a></li>
      <li><a href="http://localhost:1313/tags/docker-compose/">Docker Compose</a></li>
      <li><a href="http://localhost:1313/tags/self-hosting/">Self-Hosting</a></li>
      <li><a href="http://localhost:1313/tags/linux/">Linux</a></li>
      <li><a href="http://localhost:1313/tags/server/">Server</a></li>
      <li><a href="http://localhost:1313/tags/firewall/">Firewall</a></li>
      <li><a href="http://localhost:1313/tags/ufw/">UFW</a></li>
      <li><a href="http://localhost:1313/tags/ssh/">SSH</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="http://localhost:1313/">Prajwol Bikram Adhikari</a> · <a href="/privacy-policy/">Privacy Policy</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
