<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust | Prajwol Bikram Adhikari</title>
<script>(function(){const t=document.documentElement,n=localStorage.getItem("pref-theme");let e;n?e=n:e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",e==="dark"?t.classList.add("dark"):t.classList.remove("dark")})(),window.addEventListener("DOMContentLoaded",e=>{const s=document.getElementById("theme-toggle"),t=document.getElementById("sun"),n=document.getElementById("moon");function o(){document.documentElement.classList.contains("dark")?(t.style.setProperty("display","inline-block","important"),n.style.setProperty("display","none","important")):(t.style.setProperty("display","none","important"),n.style.setProperty("display","inline-block","important"))}s&&t&&n&&(o(),s.addEventListener("click",function(){const e=document.documentElement.classList.toggle("dark");localStorage.setItem("pref-theme",e?"dark":"light"),o()}))})</script><meta name=keywords content="Homelab,CloudComputing,Cloud,Linux,Cloudflare,Zero Trust,Tunnels,Nginx Proxy Manager,SSL,HTTPS,Security,Docker,Self-Hosting,Domain"><meta name=description content="Learn how to build a secure, globally-accessible homelab using a Cloudflare Tunnel. This guide covers implementing a Zero Trust security model to protect your services and eliminate the need for open router ports."><meta name=author content><link rel=canonical href=http://localhost:1313/projects/homelab-series-part-5-cloudflare-tunnel-security/><link crossorigin=anonymous href=/assets/css/stylesheet.min.a5ccbbe5090ea548cfd77046cd2dd5346bade1f7c5b9a9e121acf7ba0cdfc3bc.css integrity="sha256-pcy75QkOpUjP13BGzS3VNGut4ffFuanhIaz3ugzfw7w=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2eadbb982468c11a433a3e291f01326f2ba43f065e256bf792dbd79640a92316.js integrity="sha256-Lq27mCRowRpDOj4pHwEybyukPwZeJWv3ktvXlkCpIxY=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/projects/homelab-series-part-5-cloudflare-tunnel-security/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><meta property="og:title" content="Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust"><meta property="og:description" content="Learn how to build a secure, globally-accessible homelab using a Cloudflare Tunnel. This guide covers implementing a Zero Trust security model to protect your services and eliminate the need for open router ports."><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/projects/homelab-series-part-5-cloudflare-tunnel-security/"><meta property="og:image" content="http://localhost:1313/projects/homelab-part5/homelab-part5_hu_fa4261d42128b09d.jpg"><meta property="article:section" content="projects"><meta property="article:published_time" content="2025-11-07T00:00:00+00:00"><meta property="article:modified_time" content="2025-11-07T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/projects/homelab-part5/homelab-part5.png"><meta name=twitter:title content="Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust"><meta name=twitter:description content="Learn how to build a secure, globally-accessible homelab using a Cloudflare Tunnel. This guide covers implementing a Zero Trust security model to protect your services and eliminate the need for open router ports."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"http://localhost:1313/projects/"},{"@type":"ListItem","position":2,"name":"Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust","item":"http://localhost:1313/projects/homelab-series-part-5-cloudflare-tunnel-security/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust","name":"Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust","description":"Learn how to build a secure, globally-accessible homelab using a Cloudflare Tunnel. This guide covers implementing a Zero Trust security model to protect your services and eliminate the need for open router ports.","keywords":["Homelab","CloudComputing","Cloud","Linux","Cloudflare","Zero Trust","Tunnels","Nginx Proxy Manager","SSL","HTTPS","Security","Docker","Self-Hosting","Domain"],"articleBody":"Introduction Welcome to Part 5 of this homelab series! In the previous parts, we’ve built a Debian server, deployed a full suite of services with Docker, and set up a high-availability DNS network. But one critical piece is still missing: end-to-end security.\nUntil now, we’ve been accessing local services via http://grafana.local, which browsers correctly flag as “Not Secure.” The common solution is to open ports 80 and 443 on our router, but that exposes our server and home network to the entire internet—a huge security risk.\nIn this guide, we’ll walk through the ultimate solution: using a Cloudflare Tunnel and a public domain to get 100% free, valid HTTPS certificates for all internal services, all with zero open ports on the router. We’ll also lock everything down behind Cloudflare’s Zero Trust platform, so only authorized users can access them.\nChapter 1: The Domain Advantage To make this work, a public domain (e.g., your-domain.com) is required.\nA quick tip for Nepali citizens: You can register a .com.np domain for free for life, which is an incredible resource for projects like this.\nThe goal is to create secure, public-facing subdomains for our private services (like grafana.your-domain.com) without actually exposing our server.\nChapter 2: Setting Up the Cloudflare Tunnel A Cloudflare Tunnel is a secure, outbound-only connection from a connector (a small piece of software) running on our server to the Cloudflare network. This means no inbound ports are needed.\nCreate a Zero Trust Account: First, log into the Cloudflare dashboard, go to the Zero Trust menu, and sign up for the free plan. You will be asked to choose a “team name” (e.g., my-lab), which creates a unique login URL for your account.\nCreate the Tunnel: In the Zero Trust dashboard, navigate to Networks \u003e Tunnels and click “Create a tunnel”.\nChoose “Cloudflared” as the connector type and give the tunnel a name, like homelab-debian.\nGet the Token: Cloudflare then presents options for installing the connector. Select Docker, which provides a docker run command containing a unique, secret token.\nChapter 3: Deploying the cloudflared Connector Instead of just running the docker run command, using docker-compose.yml is much better for long-term management.\nCreate a new directory on the server: mkdir -p ~/docker/cloudflared cd ~/docker/cloudflared nano docker-compose.yml Paste in the following configuration, using the token from the Cloudflare dashboard. It’s critical to connect this container to the npm_default network created in Part 2. services: cloudflared: image: cloudflare/cloudflared:latest container_name: cloudflared-tunnel restart: unless-stopped command: tunnel --no-autoupdate run --token networks: - npm_default networks: npm_default: external: true Launch the container: docker compose up -d Back in the Cloudflare dashboard, the “Connectors” section for the tunnel should now show a “Healthy” status. Chapter 4: Routing Traffic - Cloudflare to NPM Now, we need to tell the tunnel where to send incoming traffic. The goal is to send all traffic for our subdomains to one place: Nginx Proxy Manager (NPM).\nIn the tunnel’s configuration, go to the “Published application routes” tab. Click “Add a published application routes” and create an entry for each of your services. For Grafana: Subdomain: grafana Domain: your-domain.com Service Type: HTTP URL: http://npm-app-1:80 (This is the container name and internal port for NPM) Click “Save” and repeat this for all other services (homer, prometheus, etc.). This process automatically creates the public CNAME records in Cloudflare’s DNS panel. Chapter 5: The “Split-Brain DNS” Setup This setup ensures our new domains work perfectly both inside and outside our home network.\nPublicly (Away from Home): This is already done. When a device is on cellular data, it uses public DNS, finds the Cloudflare CNAME, and is securely sent through the tunnel. Locally (At Home): When at home, we don’t want traffic going out to the internet and back. We use AdGuard Home to create DNS rewrites. In the AdGuard Home dashboard, go to Filters \u003e DNS Rewrites. Add a new rule: Domain: grafana.your-domain.com Answer: 192.168.1.100 (The local IP of your NPM server) Repeat this for homer.your-domain.com, prometheus.your-domain.com, etc. Chapter 6: The “Split-Brain” SSL Fix (Local \u0026 Public) This setup will create two different SSL errors: ERR_SSL_UNRECOGNIZED_NAME_ALERT when at home, and ERR_TOO_MANY_REDIRECTS when on a public network.\nHere is the step-by-step solution that fixes both problems permanently.\nStep 1: Get a Cloudflare API Token NPM needs a way to automatically prove to Cloudflare that it owns the domain.\nIn the Cloudflare profile, go to API Tokens \u003e Create Token. Use the “Edit zone DNS” template. Set Zone Resources to Include \u003e Specific zone \u003e your-domain.com. Click “Continue” and “Create Token”. Copy the generated token immediately. Step 2: Configure NPM Proxy Host In the Nginx Proxy Manager admin panel, edit the proxy host for grafana.your-domain.com. On the Details Tab, make sure the Forward Hostname is grafana and the Forward Port is 3000. Go to the SSL Tab: For SSL Certificate, choose “Request a new SSL Certificate”. Toggle “Use a DNS Challenge” to ON. Click “Add a new credential”, select Cloudflare, and paste in your API token. CRITICALLY: Toggle “Force SSL” to OFF. This is what prevents the redirect loop. Click Save. NPM will now use the API token to get a valid Let’s Encrypt certificate. Step 3: Configure Cloudflare SSL In the main Cloudflare dashboard, for your domain go to SSL/TLS \u003e Overview. Set the SSL/TLS encryption mode to “Full (Strict)”. This combination is the perfect solution:\nLocally: The browser connects directly to NPM (thanks to the AdGuard rewrite) and is served the valid Let’s Encrypt certificate, fixing the ERR_SSL_UNRECOGNIZED_NAME_ALERT. Publicly: Cloudflare enforces HTTPS (Full Strict). The request goes to NPM, which (with “Force SSL” off) no longer tries to redirect, fixing the ERR_TOO_MANY_REDIRECTS loop. Chapter 7: The Final Layer - Cloudflare Access (Zero Trust) Our services are now accessible, but they are public. This final step secures them.\nIn the Cloudflare Zero Trust dashboard, go to Access \u003e Applications and click “Add an application”. Choose “Self-hosted”. Add all the new public hostnames (grafana.your-domain.com, homer.your-domain.com, etc.) to the “Public hostname” section. On the next page, create one simple policy: Policy name: Allow-Admin-Only Action: Allow Rule: Include, Emails, your-email@example.com Click “Save application”. Conclusion: From Bare Metal to a Secure, Global Homelab And with that, we’ve placed the final and most important piece of our puzzle: professional-grade security.\nLet’s step back and appreciate what we’ve built. On our home network, we have seamless, direct access to our services with valid SSL certificates. The moment we step outside our home, our lab becomes a secure fortress. Our services are completely invisible to the public internet, hidden behind Cloudflare’s robust Zero Trust authentication.\nWe have successfully achieved the gold standard of modern, secure infrastructure:\nZero-Trust Access: Only authenticated users can even see our login pages. A “Closed-Port” Firewall: We’ve done it all without opening a single port on our router, eliminating one of the single greatest security risks for any homelab. Global Accessibility: We can securely access our tools from anywhere in the world, just like a professional enterprise service. Looking Back: Our 5-Part Journey It’s amazing to see how far we’ve come. In this series, we started with nothing but a powered-off machine and an idea.\nIn Part 1, we built our server from the ground up with a minimal Debian install utilizing our old laptop. In Part 2, we hardened its security with SSH keys, UFW, and Fail2Ban. In Part 3, we unleashed its potential with Docker and deployed our first service, AdGuard Home. In Part 4, we solved internal networking with a local DNS server for clean, “at-home” SSL. And finally, in Part 5, we’ve secured it for the entire world with Cloudflare Tunnels. We have successfully built a stable, secure, and powerful foundation. This server is no longer just a project; it’s a platform ready to host any idea we can dream up.\nWhat’s Next? Thank you so much for following along on this journey. I hope this guide has been valuable and has empowered you to build your own private corner of the internet.\nFor now, this concludes our setup series. We’ve built the “house” and secured it. The next logical step, and the subject for a whole new series, is to learn how to manage it. What if we want to deploy 10 services? What if this server fails and we need to rebuild it in minutes, not hours?\nOur foundation is set. The next adventure will be in the world of automation and orchestration, using powerful tools like Ansible (Infrastructure as Code) to automate our setup and Kubernetes (K3s) to manage our containerized applications at scale.\nStay tuned, and happy building!\n","wordCount":"1424","inLanguage":"en","image":"http://localhost:1313/projects/homelab-part5/homelab-part5.png","datePublished":"2025-11-07T00:00:00Z","dateModified":"2025-11-07T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/projects/homelab-series-part-5-cloudflare-tunnel-security/"},"publisher":{"@type":"Organization","name":"Prajwol Bikram Adhikari","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><header class="header sticky-header"><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Prajwol Bikram Adhikari (Alt + H)">Prajwol Bikram Adhikari</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li></li></ul></span></div><ul id=menu><li><a href=http://localhost:1313/ title=Home><span>Home</span></a></li><li><a href=http://localhost:1313/projects title=Projects><span>Projects</span></a></li><li><a href=http://localhost:1313/blog title=Blog><span>Blog</span></a></li><li><a href=http://localhost:1313/experience title=Experience><span>Experience</span></a></li><li><a href=http://localhost:1313/education title=Education><span>Education</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/projects/>Projects</a></div><h1 class=post-title>Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust</h1><div class=post-description>Learn how to build a secure, globally-accessible homelab using a Cloudflare Tunnel. This guide covers implementing a Zero Trust security model to protect your services and eliminate the need for open router ports.</div><div class=post-meta>Nov 2025</div></header><figure class=entry-cover><img loading=lazy src=http://localhost:1313/projects/homelab-part5/homelab-part5_hu_a4d601f97a7b8973.webp alt="Cover image for Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust" width=1040 height=585></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>‎ Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#chapter-1-the-domain-advantage aria-label="Chapter 1: The Domain Advantage">Chapter 1: The Domain Advantage</a></li><li><a href=#chapter-2-setting-up-the-cloudflare-tunnel aria-label="Chapter 2: Setting Up the Cloudflare Tunnel">Chapter 2: Setting Up the Cloudflare Tunnel</a></li><li><a href=#chapter-3-deploying-the-cloudflared-connector aria-label="Chapter 3: Deploying the cloudflared Connector">Chapter 3: Deploying the <code>cloudflared</code> Connector</a></li><li><a href=#chapter-4-routing-traffic---cloudflare-to-npm aria-label="Chapter 4: Routing Traffic - Cloudflare to NPM">Chapter 4: Routing Traffic - Cloudflare to NPM</a></li><li><a href=#chapter-5-the-split-brain-dns-setup aria-label="Chapter 5: The &ldquo;Split-Brain DNS&rdquo; Setup">Chapter 5: The &ldquo;Split-Brain DNS&rdquo; Setup</a></li><li><a href=#chapter-6-the-split-brain-ssl-fix-local--public aria-label="Chapter 6: The &ldquo;Split-Brain&rdquo; SSL Fix (Local & Public)">Chapter 6: The &ldquo;Split-Brain&rdquo; SSL Fix (Local & Public)</a><ul><li><a href=#step-1-get-a-cloudflare-api-token aria-label="Step 1: Get a Cloudflare API Token"><strong>Step 1: Get a Cloudflare API Token</strong></a></li><li><a href=#step-2-configure-npm-proxy-host aria-label="Step 2: Configure NPM Proxy Host"><strong>Step 2: Configure NPM Proxy Host</strong></a></li><li><a href=#step-3-configure-cloudflare-ssl aria-label="Step 3: Configure Cloudflare SSL"><strong>Step 3: Configure Cloudflare SSL</strong></a></li></ul></li><li><a href=#chapter-7-the-final-layer---cloudflare-access-zero-trust aria-label="Chapter 7: The Final Layer - Cloudflare Access (Zero Trust)">Chapter 7: The Final Layer - Cloudflare Access (Zero Trust)</a></li><li><a href=#conclusion-from-bare-metal-to-a-secure-global-homelab aria-label="Conclusion: From Bare Metal to a Secure, Global Homelab">Conclusion: From Bare Metal to a Secure, Global Homelab</a></li><li><a href=#looking-back-our-5-part-journey aria-label="Looking Back: Our 5-Part Journey">Looking Back: Our 5-Part Journey</a></li><li><a href=#whats-next aria-label="What&rsquo;s Next?">What&rsquo;s Next?</a></li></ul></div></details></div><div class=post-content><h3 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h3><p>Welcome to Part 5 of this homelab series! In the previous parts, we&rsquo;ve built a Debian server, deployed a full suite of services with Docker, and set up a high-availability DNS network. But one critical piece is still missing: end-to-end security.</p><p>Until now, we&rsquo;ve been accessing local services via <code>http://grafana.local</code>, which browsers correctly flag as &ldquo;Not Secure.&rdquo; The common solution is to open ports 80 and 443 on our router, but that exposes our server and home network to the entire internet—a huge security risk.</p><p>In this guide, we&rsquo;ll walk through the ultimate solution: using a <strong>Cloudflare Tunnel</strong> and a public domain to get 100% free, valid <strong>HTTPS</strong> certificates for all <em>internal</em> services, all with <strong>zero open ports</strong> on the router. We&rsquo;ll also lock everything down behind Cloudflare&rsquo;s Zero Trust platform, so only authorized users can access them.</p><h3 id=chapter-1-the-domain-advantage>Chapter 1: The Domain Advantage<a hidden class=anchor aria-hidden=true href=#chapter-1-the-domain-advantage>#</a></h3><p>To make this work, a public domain (e.g., <code>your-domain.com</code>) is required.</p><blockquote><p><strong>A quick tip for Nepali citizens:</strong> You can register a <code>.com.np</code> domain for free for life, which is an incredible resource for projects like this.</p></blockquote><p>The goal is to create secure, public-facing subdomains for our private services (like <code>grafana.your-domain.com</code>) without actually exposing our server.</p><h3 id=chapter-2-setting-up-the-cloudflare-tunnel>Chapter 2: Setting Up the Cloudflare Tunnel<a hidden class=anchor aria-hidden=true href=#chapter-2-setting-up-the-cloudflare-tunnel>#</a></h3><p>A Cloudflare Tunnel is a secure, outbound-only connection from a connector (a small piece of software) running on our server to the Cloudflare network. This means no inbound ports are needed.</p><ol><li><p><strong>Create a Zero Trust Account:</strong> First, log into the Cloudflare dashboard, go to the <strong>Zero Trust</strong> menu, and sign up for the free plan. You will be asked to choose a &ldquo;team name&rdquo; (e.g., <code>my-lab</code>), which creates a unique login URL for your account.</p></li><li><p><strong>Create the Tunnel:</strong> In the Zero Trust dashboard, navigate to <strong>Networks > Tunnels</strong> and click &ldquo;Create a tunnel&rdquo;.</p></li><li><p>Choose <strong>&ldquo;Cloudflared&rdquo;</strong> as the connector type and give the tunnel a name, like <code>homelab-debian</code>.</p></li><li><p><strong>Get the Token:</strong> Cloudflare then presents options for installing the connector. Select <strong>Docker</strong>, which provides a <code>docker run</code> command containing a unique, secret token.</p></li></ol><h3 id=chapter-3-deploying-the-cloudflared-connector>Chapter 3: Deploying the <code>cloudflared</code> Connector<a hidden class=anchor aria-hidden=true href=#chapter-3-deploying-the-cloudflared-connector>#</a></h3><p>Instead of just running the <code>docker run</code> command, using <code>docker-compose.yml</code> is much better for long-term management.</p><ol><li>Create a new directory on the server:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p ~/docker/cloudflared
</span></span><span style=display:flex><span>cd ~/docker/cloudflared
</span></span><span style=display:flex><span>nano docker-compose.yml
</span></span></code></pre></div></li><li>Paste in the following configuration, using the <strong>token</strong> from the Cloudflare dashboard. It&rsquo;s critical to connect this container to the <code>npm_default</code> network created in Part 2.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>cloudflared</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>cloudflare/cloudflared:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>cloudflared-tunnel</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>command</span>: <span style=color:#ae81ff>tunnel --no-autoupdate run --token &lt;YOUR_TOKEN_HERE&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>npm_default</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>npm_default</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>external</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div></li><li>Launch the container: <code>docker compose up -d</code></li><li>Back in the Cloudflare dashboard, the &ldquo;Connectors&rdquo; section for the tunnel should now show a <strong>&ldquo;Healthy&rdquo;</strong> status.</li></ol><h3 id=chapter-4-routing-traffic---cloudflare-to-npm>Chapter 4: Routing Traffic - Cloudflare to NPM<a hidden class=anchor aria-hidden=true href=#chapter-4-routing-traffic---cloudflare-to-npm>#</a></h3><p>Now, we need to tell the tunnel where to send incoming traffic. The goal is to send <em>all</em> traffic for our subdomains to one place: <strong>Nginx Proxy Manager (NPM)</strong>.</p><ol><li>In the tunnel&rsquo;s configuration, go to the <strong>&ldquo;Published application routes&rdquo;</strong> tab.</li><li>Click <strong>&ldquo;Add a published application routes&rdquo;</strong> and create an entry for each of your services. For Grafana:<ul><li><strong>Subdomain:</strong> <code>grafana</code></li><li><strong>Domain:</strong> <code>your-domain.com</code></li><li><strong>Service Type:</strong> <code>HTTP</code></li><li><strong>URL:</strong> <code>http://npm-app-1:80</code> (This is the container name and internal port for NPM)</li></ul></li><li>Click <strong>&ldquo;Save&rdquo;</strong> and repeat this for all other services (<code>homer</code>, <code>prometheus</code>, etc.). This process automatically creates the public CNAME records in Cloudflare&rsquo;s DNS panel.</li></ol><h3 id=chapter-5-the-split-brain-dns-setup>Chapter 5: The &ldquo;Split-Brain DNS&rdquo; Setup<a hidden class=anchor aria-hidden=true href=#chapter-5-the-split-brain-dns-setup>#</a></h3><p>This setup ensures our new domains work perfectly <em>both</em> inside and outside our home network.</p><ul><li><strong>Publicly (Away from Home):</strong> This is already done. When a device is on cellular data, it uses public DNS, finds the Cloudflare CNAME, and is securely sent through the tunnel.</li><li><strong>Locally (At Home):</strong> When at home, we don&rsquo;t want traffic going out to the internet and back. We use AdGuard Home to create DNS rewrites.<ol><li>In the AdGuard Home dashboard, go to <strong>Filters > DNS Rewrites</strong>.</li><li>Add a new rule:<ul><li><strong>Domain:</strong> <code>grafana.your-domain.com</code></li><li><strong>Answer:</strong> <code>192.168.1.100</code> (The local IP of your NPM server)</li></ul></li><li>Repeat this for <code>homer.your-domain.com</code>, <code>prometheus.your-domain.com</code>, etc.</li></ol></li></ul><h3 id=chapter-6-the-split-brain-ssl-fix-local--public>Chapter 6: The &ldquo;Split-Brain&rdquo; SSL Fix (Local & Public)<a hidden class=anchor aria-hidden=true href=#chapter-6-the-split-brain-ssl-fix-local--public>#</a></h3><p>This setup will create two different SSL errors: <code>ERR_SSL_UNRECOGNIZED_NAME_ALERT</code> when at home, and <code>ERR_TOO_MANY_REDIRECTS</code> when on a public network.</p><p>Here is the step-by-step solution that fixes both problems permanently.</p><h4 id=step-1-get-a-cloudflare-api-token><strong>Step 1: Get a Cloudflare API Token</strong><a hidden class=anchor aria-hidden=true href=#step-1-get-a-cloudflare-api-token>#</a></h4><p>NPM needs a way to automatically prove to Cloudflare that it owns the domain.</p><ol><li>In the Cloudflare profile, go to <strong>API Tokens > Create Token</strong>.</li><li>Use the <strong>&ldquo;Edit zone DNS&rdquo;</strong> template.</li><li>Set <strong>Zone Resources</strong> to <code>Include</code> > <code>Specific zone</code> > <code>your-domain.com</code>.</li><li>Click &ldquo;Continue&rdquo; and &ldquo;Create Token&rdquo;. <strong>Copy the generated token</strong> immediately.</li></ol><h4 id=step-2-configure-npm-proxy-host><strong>Step 2: Configure NPM Proxy Host</strong><a hidden class=anchor aria-hidden=true href=#step-2-configure-npm-proxy-host>#</a></h4><ol><li>In the Nginx Proxy Manager admin panel, edit the proxy host for <code>grafana.your-domain.com</code>.</li><li>On the <strong>Details Tab</strong>, make sure the Forward Hostname is <code>grafana</code> and the Forward Port is <code>3000</code>.</li><li>Go to the <strong>SSL Tab</strong>:<ul><li>For <strong>SSL Certificate</strong>, choose <strong>&ldquo;Request a new SSL Certificate&rdquo;</strong>.</li><li>Toggle <strong>&ldquo;Use a DNS Challenge&rdquo;</strong> to <strong>ON</strong>.</li><li>Click <strong>&ldquo;Add a new credential&rdquo;</strong>, select Cloudflare, and paste in your API token.</li><li><strong>CRITICALLY: Toggle &ldquo;Force SSL&rdquo; to OFF.</strong> This is what prevents the redirect loop.</li></ul></li><li>Click <strong>Save</strong>. NPM will now use the API token to get a valid Let&rsquo;s Encrypt certificate.</li></ol><h4 id=step-3-configure-cloudflare-ssl><strong>Step 3: Configure Cloudflare SSL</strong><a hidden class=anchor aria-hidden=true href=#step-3-configure-cloudflare-ssl>#</a></h4><ol><li>In the main Cloudflare dashboard, for your domain go to <strong>SSL/TLS > Overview</strong>.</li><li>Set the SSL/TLS encryption mode to <strong>&ldquo;Full (Strict)&rdquo;</strong>.</li></ol><p>This combination is the perfect solution:</p><ul><li><strong>Locally:</strong> The browser connects directly to NPM (thanks to the AdGuard rewrite) and is served the valid Let&rsquo;s Encrypt certificate, fixing the <code>ERR_SSL_UNRECOGNIZED_NAME_ALERT</code>.</li><li><strong>Publicly:</strong> Cloudflare enforces <code>HTTPS</code> (Full Strict). The request goes to NPM, which (with &ldquo;Force SSL&rdquo; off) no longer tries to redirect, fixing the <code>ERR_TOO_MANY_REDIRECTS</code> loop.</li></ul><h3 id=chapter-7-the-final-layer---cloudflare-access-zero-trust>Chapter 7: The Final Layer - Cloudflare Access (Zero Trust)<a hidden class=anchor aria-hidden=true href=#chapter-7-the-final-layer---cloudflare-access-zero-trust>#</a></h3><p>Our services are now accessible, but they are public. This final step secures them.</p><ol><li>In the Cloudflare Zero Trust dashboard, go to <strong>Access > Applications</strong> and click &ldquo;Add an application&rdquo;.</li><li>Choose <strong>&ldquo;Self-hosted&rdquo;</strong>.</li><li>Add all the new public hostnames (<code>grafana.your-domain.com</code>, <code>homer.your-domain.com</code>, etc.) to the &ldquo;Public hostname&rdquo; section.</li><li>On the next page, create one simple policy:<ul><li><strong>Policy name:</strong> <code>Allow-Admin-Only</code></li><li><strong>Action:</strong> <code>Allow</code></li><li><strong>Rule:</strong> <code>Include</code>, <code>Emails</code>, <code>your-email@example.com</code></li></ul></li><li>Click &ldquo;Save application&rdquo;.</li></ol><h3 id=conclusion-from-bare-metal-to-a-secure-global-homelab>Conclusion: From Bare Metal to a Secure, Global Homelab<a hidden class=anchor aria-hidden=true href=#conclusion-from-bare-metal-to-a-secure-global-homelab>#</a></h3><p>And with that, we&rsquo;ve placed the final and most important piece of our puzzle: professional-grade security.</p><p>Let&rsquo;s step back and appreciate what we&rsquo;ve built. On our home network, we have seamless, direct access to our services with valid SSL certificates. The moment we step outside our home, our lab becomes a secure fortress. Our services are completely invisible to the public internet, hidden behind Cloudflare&rsquo;s robust Zero Trust authentication.</p><p>We have successfully achieved the gold standard of modern, secure infrastructure:</p><ul><li><strong>Zero-Trust Access:</strong> Only authenticated users can even <em>see</em> our login pages.</li><li><strong>A &ldquo;Closed-Port&rdquo; Firewall:</strong> We&rsquo;ve done it all <strong>without opening a single port on our router</strong>, eliminating one of the single greatest security risks for any homelab.</li><li><strong>Global Accessibility:</strong> We can securely access our tools from anywhere in the world, just like a professional enterprise service.</li></ul><hr><h3 id=looking-back-our-5-part-journey>Looking Back: Our 5-Part Journey<a hidden class=anchor aria-hidden=true href=#looking-back-our-5-part-journey>#</a></h3><p>It&rsquo;s amazing to see how far we&rsquo;ve come. In this series, we started with nothing but a powered-off machine and an idea.</p><ul><li>In <strong>Part 1</strong>, we built our server from the ground up with a minimal <strong>Debian</strong> install utilizing our old laptop.</li><li>In <strong>Part 2</strong>, we hardened its security with <strong>SSH keys, UFW, and Fail2Ban</strong>.</li><li>In <strong>Part 3</strong>, we unleashed its potential with <strong>Docker</strong> and deployed our first service, <strong>AdGuard Home</strong>.</li><li>In <strong>Part 4</strong>, we solved internal networking with a <strong>local DNS server</strong> for clean, &ldquo;at-home&rdquo; SSL.</li><li>And finally, in <strong>Part 5</strong>, we&rsquo;ve secured it for the entire world with <strong>Cloudflare Tunnels</strong>.</li></ul><p>We have successfully built a stable, secure, and powerful foundation. This server is no longer just a project; it&rsquo;s a platform ready to host any idea we can dream up.</p><h3 id=whats-next>What&rsquo;s Next?<a hidden class=anchor aria-hidden=true href=#whats-next>#</a></h3><p>Thank you so much for following along on this journey. I hope this guide has been valuable and has empowered you to build your own private corner of the internet.</p><p>For now, this concludes our setup series. We&rsquo;ve built the &ldquo;house&rdquo; and secured it. The next logical step, and the subject for a whole new series, is to learn how to manage it. What if we want to deploy 10 services? What if this server fails and we need to rebuild it in minutes, not hours?</p><p>Our foundation is set. The next adventure will be in the world of automation and orchestration, using powerful tools like <strong>Ansible (Infrastructure as Code)</strong> to automate our setup and <strong>Kubernetes (K3s)</strong> to manage our containerized applications at scale.</p><p>Stay tuned, and happy building!</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/homelab/>Homelab</a></li><li><a href=http://localhost:1313/tags/cloudcomputing/>CloudComputing</a></li><li><a href=http://localhost:1313/tags/cloud/>Cloud</a></li><li><a href=http://localhost:1313/tags/linux/>Linux</a></li><li><a href=http://localhost:1313/tags/cloudflare/>Cloudflare</a></li><li><a href=http://localhost:1313/tags/zero-trust/>Zero Trust</a></li><li><a href=http://localhost:1313/tags/tunnels/>Tunnels</a></li><li><a href=http://localhost:1313/tags/nginx-proxy-manager/>Nginx Proxy Manager</a></li><li><a href=http://localhost:1313/tags/ssl/>SSL</a></li><li><a href=http://localhost:1313/tags/https/>HTTPS</a></li><li><a href=http://localhost:1313/tags/security/>Security</a></li><li><a href=http://localhost:1313/tags/docker/>Docker</a></li><li><a href=http://localhost:1313/tags/self-hosting/>Self-Hosting</a></li><li><a href=http://localhost:1313/tags/domain/>Domain</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust on twitter" href="https://twitter.com/intent/tweet/?text=Part%205%3a%20Securing%20a%20Homelab%20with%20Cloudflare%20Tunnels%20and%20Zero%20Trust&amp;url=http%3a%2f%2flocalhost%3a1313%2fprojects%2fhomelab-series-part-5-cloudflare-tunnel-security%2f&amp;hashtags=Homelab%2cCloudComputing%2cCloud%2cLinux%2cCloudflare%2cZeroTrust%2cTunnels%2cNginxProxyManager%2cSSL%2cHTTPS%2cSecurity%2cDocker%2cSelf-Hosting%2cDomain"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fprojects%2fhomelab-series-part-5-cloudflare-tunnel-security%2f&amp;title=Part%205%3a%20Securing%20a%20Homelab%20with%20Cloudflare%20Tunnels%20and%20Zero%20Trust&amp;summary=Part%205%3a%20Securing%20a%20Homelab%20with%20Cloudflare%20Tunnels%20and%20Zero%20Trust&amp;source=http%3a%2f%2flocalhost%3a1313%2fprojects%2fhomelab-series-part-5-cloudflare-tunnel-security%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fprojects%2fhomelab-series-part-5-cloudflare-tunnel-security%2f&title=Part%205%3a%20Securing%20a%20Homelab%20with%20Cloudflare%20Tunnels%20and%20Zero%20Trust"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fprojects%2fhomelab-series-part-5-cloudflare-tunnel-security%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust on whatsapp" href="https://api.whatsapp.com/send?text=Part%205%3a%20Securing%20a%20Homelab%20with%20Cloudflare%20Tunnels%20and%20Zero%20Trust%20-%20http%3a%2f%2flocalhost%3a1313%2fprojects%2fhomelab-series-part-5-cloudflare-tunnel-security%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Part 5: Securing a Homelab with Cloudflare Tunnels and Zero Trust on telegram" href="https://telegram.me/share/url?text=Part%205%3a%20Securing%20a%20Homelab%20with%20Cloudflare%20Tunnels%20and%20Zero%20Trust&amp;url=http%3a%2f%2flocalhost%3a1313%2fprojects%2fhomelab-series-part-5-cloudflare-tunnel-security%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Prajwol Bikram Adhikari</a> · <a href=/%20/privacy-policy/>Privacy Policy</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>