<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Part 2: Homelab Management &amp; Monitoring | Prajwol Bikram Adhikari</title>
<script>
    
    (function () {
        const Elem = document.documentElement;
        const savedTheme = localStorage.getItem('pref-theme');
        let theme;

        if (savedTheme) {
            theme = savedTheme;
        } else {
            theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        if (theme === 'dark') {
            Elem.classList.add('dark');
        } else {
            Elem.classList.remove('dark');
        }
    })();

    
    window.addEventListener('DOMContentLoaded', (event) => {
        const toggle = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('sun');
        const moonIcon = document.getElementById('moon');

        
        function updateIcon() {
            if (document.documentElement.classList.contains('dark')) {
                sunIcon.style.setProperty('display', 'inline-block', 'important');
                moonIcon.style.setProperty('display', 'none', 'important');
            } else {
                sunIcon.style.setProperty('display', 'none', 'important');
                moonIcon.style.setProperty('display', 'inline-block', 'important');
            }
        }

        
        if (toggle && sunIcon && moonIcon) {
            updateIcon();

            
            toggle.addEventListener('click', function () {
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('pref-theme', isDark ? 'dark' : 'light');
                updateIcon(); 
            });
        }
    });
</script>
<meta name="keywords" content="Homelab, Docker, Nginx Proxy Manager, Reverse Proxy, Grafana, Prometheus, Monitoring, Homer, Self-Hosting">
<meta name="description" content="Introduction
Welcome to Part 2 of my homelab series! In Part 1, we built a solid foundation by turning an old laptop into a hardened Debian server with Docker. Now that our server is running, we need to deploy services to manage, monitor, and easily access our projects.
In this guide, we&rsquo;ll deploy three essential stacks. First, Nginx Proxy Manager (NPM) will act as our server&rsquo;s front door and create a shared network for our containers. Second, we&rsquo;ll set up a professional-grade monitoring stack with Prometheus and Grafana. Finally, we&rsquo;ll deploy a Homer dashboard to create a beautiful and convenient launchpad for all our services.">
<meta name="author" content="">
<link rel="canonical"
    href="http://localhost:1313/projects/homelab-series-part-2-monitoring-and-management/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.2885677832a85698b0de371109b751f96208e8a347606b229cfd3bd8d7156da3.css" integrity="sha256-KIVneDKoVpiw3jcRCbdR&#43;WII6KNHYGsinP072NcVbaM="
    rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2eadbb982468c11a433a3e291f01326f2ba43f065e256bf792dbd79640a92316.js" integrity="sha256-Lq27mCRowRpDOj4pHwEybyukPwZeJWv3ktvXlkCpIxY="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/homelab-series-part-2-monitoring-and-management/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }
    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }
    </style>
</noscript><meta property="og:title" content="Part 2: Homelab Management &amp; Monitoring" />
<meta property="og:description" content="Introduction
Welcome to Part 2 of my homelab series! In Part 1, we built a solid foundation by turning an old laptop into a hardened Debian server with Docker. Now that our server is running, we need to deploy services to manage, monitor, and easily access our projects.
In this guide, we&rsquo;ll deploy three essential stacks. First, Nginx Proxy Manager (NPM) will act as our server&rsquo;s front door and create a shared network for our containers. Second, we&rsquo;ll set up a professional-grade monitoring stack with Prometheus and Grafana. Finally, we&rsquo;ll deploy a Homer dashboard to create a beautiful and convenient launchpad for all our services." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/projects/homelab-series-part-2-monitoring-and-management/" />
<meta property="og:image" content="http://localhost:1313/projects/homelab-part2/homelab-part2.png" /><meta property="article:section" content="projects" />



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/projects/homelab-part2/homelab-part2.png" />
<meta name="twitter:title" content="Part 2: Homelab Management &amp; Monitoring"/>
<meta name="twitter:description" content="Introduction
Welcome to Part 2 of my homelab series! In Part 1, we built a solid foundation by turning an old laptop into a hardened Debian server with Docker. Now that our server is running, we need to deploy services to manage, monitor, and easily access our projects.
In this guide, we&rsquo;ll deploy three essential stacks. First, Nginx Proxy Manager (NPM) will act as our server&rsquo;s front door and create a shared network for our containers. Second, we&rsquo;ll set up a professional-grade monitoring stack with Prometheus and Grafana. Finally, we&rsquo;ll deploy a Homer dashboard to create a beautiful and convenient launchpad for all our services."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Projects",
      "item": "http://localhost:1313/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Part 2: Homelab Management \u0026 Monitoring",
      "item": "http://localhost:1313/projects/homelab-series-part-2-monitoring-and-management/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Part 2: Homelab Management \u0026 Monitoring",
  "name": "Part 2: Homelab Management \u0026 Monitoring",
  "description": "Introduction Welcome to Part 2 of my homelab series! In Part 1, we built a solid foundation by turning an old laptop into a hardened Debian server with Docker. Now that our server is running, we need to deploy services to manage, monitor, and easily access our projects.\nIn this guide, we\u0026rsquo;ll deploy three essential stacks. First, Nginx Proxy Manager (NPM) will act as our server\u0026rsquo;s front door and create a shared network for our containers. Second, we\u0026rsquo;ll set up a professional-grade monitoring stack with Prometheus and Grafana. Finally, we\u0026rsquo;ll deploy a Homer dashboard to create a beautiful and convenient launchpad for all our services.\n",
  "keywords": [
    "Homelab", "Docker", "Nginx Proxy Manager", "Reverse Proxy", "Grafana", "Prometheus", "Monitoring", "Homer", "Self-Hosting"
  ],
  "articleBody": "Introduction Welcome to Part 2 of my homelab series! In Part 1, we built a solid foundation by turning an old laptop into a hardened Debian server with Docker. Now that our server is running, we need to deploy services to manage, monitor, and easily access our projects.\nIn this guide, we‚Äôll deploy three essential stacks. First, Nginx Proxy Manager (NPM) will act as our server‚Äôs front door and create a shared network for our containers. Second, we‚Äôll set up a professional-grade monitoring stack with Prometheus and Grafana. Finally, we‚Äôll deploy a Homer dashboard to create a beautiful and convenient launchpad for all our services.\n1. The Management Layer: Nginx Proxy Manager (NPM) üåê Before we can deploy our other services, we need a way to manage connections between them. NPM will act as our reverse proxy and, crucially, will create the shared Docker network that all our other services will connect to.\nA. Deploy Nginx Proxy Manager First, let‚Äôs create a directory and the docker-compose.yml file for NPM.\n# Create the directory mkdir -p ~/docker/npm cd ~/docker/npm # Create the docker-compose.yml nano docker-compose.yml Paste in the following configuration. This file defines the NPM service and creates a network named npm_default.\nservices: app: image: 'jc21/nginx-proxy-manager:latest' container_name: npm-app-1 restart: unless-stopped ports: - '80:80' - '443:443' - '81:81' volumes: - ./data:/data - ./letsencrypt:/etc/letsencrypt networks: default: name: npm_default Launch it with\ndocker compose up -d You can now log in to the admin UI at http://:81.\n2. The Monitoring Stack üìä With our shared network in place, we can now deploy our monitoring stack.\nPrometheus: Collects all the metrics.\nNode Exporter: Exposes the server‚Äôs hardware metrics.\ncAdvisor: Exposes Docker container metrics.\nGrafana: Visualizes all the data in beautiful dashboards.\nA. Create the Prometheus Configuration Prometheus needs a config file to know what to monitor.\n# Create the project directory mkdir -p ~/docker/monitoring cd ~/docker/monitoring # Create the prometheus.yml file nano prometheus.yml Paste in the following configuration:\nglobal: scrape_interval: 15s scrape_configs: - job_name: 'prometheus' static_configs: - targets: ['localhost:9090'] - job_name: 'node-exporter' static_configs: - targets: ['node-exporter:9100'] - job_name: 'cadvisor' static_configs: - targets: ['cadvisor:8080'] B. Deploy the Stack with Docker Compose Next, create the docker-compose.yml file in the same ~/docker/monitoring directory.\nnano docker-compose.yml This file defines all four monitoring services and tells them to connect to the npm_default network we created earlier.\nservices: prometheus: image: prom/prometheus:latest container_name: prometheus restart: unless-stopped ports: - \"9090:9090\" volumes: - ./prometheus.yml:/etc/prometheus/prometheus.yml - prometheus_data:/prometheus networks: - default grafana: image: grafana/grafana:latest container_name: grafana restart: unless-stopped ports: - \"3001:3000\" volumes: - grafana_data:/var/lib/grafana networks: - default node-exporter: image: prom/node-exporter:latest container_name: node-exporter restart: unless-stopped volumes: - /proc:/host/proc:ro - /sys:/host/sys:ro - /:/rootfs:ro command: - '--path.procfs=/host/proc' - '--path.sysfs=/host/sys' - '--path.rootfs=/rootfs' - '--collector.filesystem.mount-points-exclude=^/(sys|proc|dev|host|etc)($$|/)' networks: - default cadvisor: image: gcr.io/cadvisor/cadvisor:latest container_name: cadvisor restart: unless-stopped ports: - \"8081:8080\" volumes: - /:/rootfs:ro - /var/run:/var/run:rw - /sys:/sys:ro - /var/lib/docker/:/var/lib/docker:ro networks: - default volumes: prometheus_data: grafana_data: networks: default: name: npm_default external: true Now, launch the stack:\ndocker compose up -d C. Configure Grafana Log in to Grafana at http://:3001 (default: admin/admin).\nAdd Data Source: Go to Connections \u003e Data Sources, add a Prometheus source, and set the URL to http://prometheus:9090.\nImport Dashboards: Go to Dashboards \u003e New \u003e Import and add these dashboards by ID:\nNode Exporter Full (ID: 1860)\nDocker Host/Container Metrics (ID: 193)\n3. The Homer Launchpad Dashboard üöÄ Finally, let‚Äôs deploy Homer as our beautiful start page with custom icons.\nCreate Directories \u0026 Download Icons: First, create a directory for Homer and an assets subdirectory. Then, cd into the assets folder and download the icons.\nmkdir -p ~/docker/homer/assets cd ~/docker/homer/assets wget -O grafana.png [https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/grafana.png](https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/grafana.png) wget -O prometheus.png [https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/prometheus.png](https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/prometheus.png) wget -O cadvisor.png [https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/cadvisor.png](https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/cadvisor.png) wget -O npm.png [https://nginxproxymanager.com/icon.png](https://nginxproxymanager.com/icon.png) Create Configuration: Go back to the main homer directory and create the config.yml file.\ncd ~/docker/homer nano config.yml Paste in the following configuration. The logo: lines point to the icons we just downloaded.\n--- title: \"Homelab Dashboard\" subtitle: \"Server Management\" theme: \"dark\" services: - name: \"Management\" icon: \"fas fa-server\" items: - name: \"Nginx Proxy Manager\" logo: \"assets/tools/npm.png\" subtitle: \"Reverse Proxy Admin\" url: \"http://:81\" - name: \"Monitoring\" icon: \"fas fa-chart-bar\" items: - name: \"Grafana\" logo: \"assets/tools/grafana.png\" subtitle: \"Metrics Dashboard\" url: \"http://:3001\" - name: \"Prometheus\" logo: \"assets/tools/prometheus.png\" subtitle: \"Metrics Database\" url: \"http://:9090\" - name: \"cAdvisor\" logo: \"assets/tools/cadvisor.png\" subtitle: \"Container Metrics\" url: \"http://:8081\" Create Docker Compose File: Finally, create the docker-compose.yml file.\nnano docker-compose.yml This configuration connects Homer to our shared network.\nservices: homer: image: b4bz/homer container_name: homer volumes: - ./config.yml:/www/assets/config.yml - ./assets:/www/assets/tools ports: - \"8090:8080\" restart: unless-stopped networks: - npm_default networks: npm_default: external: true Launch: Run docker compose up -d. You can now access your new dashboard with custom icons at http://:8090.\nConclusion Our homelab now has a powerful management and monitoring foundation. Nginx Proxy Manager is ready to direct traffic, Grafana is visualizing our server‚Äôs health, and Homer provides a central launchpad.\nIn the next part of the series, we‚Äôll deploy our core network service, AdGuard Home, and use NPM to create clean, memorable local domains for all the applications we set up today. Stay tuned!\n",
  "wordCount" : "830",
  "inLanguage": "en",
  "image":"http://localhost:1313/projects/homelab-part2/homelab-part2.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/projects/homelab-series-part-2-monitoring-and-management/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Prajwol Bikram Adhikari",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">

<header class="header sticky-header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Prajwol Bikram Adhikari (Alt + H)">Prajwol Bikram Adhikari</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li></li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/experience" title="Experience">
                    <span>Experience</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/projects/">Projects</a></div>
    <h1 class="post-title">
      Part 2: Homelab Management &amp; Monitoring
    </h1>
    <div class="post-meta">


Sep 2025

</div>
  </header>
    <figure class="entry-cover">
        <img loading="lazy" 
             src="http://localhost:1313/projects/homelab-part2/homelab-part2_hu_bcf0d0596283a423.webp" 
             alt="Cover image for Part 2: Homelab Management &amp; Monitoring" 
             width="1040" 
             height="567">
    </figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">‚Äé Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#1-the-management-layer-nginx-proxy-manager-npm-" aria-label="1. The Management Layer: Nginx Proxy Manager (NPM) üåê">1. The Management Layer: Nginx Proxy Manager (NPM) üåê</a><ul>
                        
                <li>
                    <a href="#a-deploy-nginx-proxy-manager" aria-label="A. Deploy Nginx Proxy Manager"><strong>A. Deploy Nginx Proxy Manager</strong></a></li></ul>
                </li>
                <li>
                    <a href="#2-the-monitoring-stack-" aria-label="2. The Monitoring Stack üìä">2. The Monitoring Stack üìä</a><ul>
                        
                <li>
                    <a href="#a-create-the-prometheus-configuration" aria-label="A. Create the Prometheus Configuration"><strong>A. Create the Prometheus Configuration</strong></a></li>
                <li>
                    <a href="#b-deploy-the-stack-with-docker-compose" aria-label="B. Deploy the Stack with Docker Compose"><strong>B. Deploy the Stack with Docker Compose</strong></a></li>
                <li>
                    <a href="#c-configure-grafana" aria-label="C. Configure Grafana"><strong>C. Configure Grafana</strong></a></li></ul>
                </li>
                <li>
                    <a href="#3-the-homer-launchpad-dashboard-" aria-label="3. The Homer Launchpad Dashboard üöÄ">3. The Homer Launchpad Dashboard üöÄ</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h3>
<p>Welcome to Part 2 of my homelab series! In <a href="/projects/homelab-series-part-1-debian-docker-foundation/">Part 1</a>, we built a solid foundation by turning an old laptop into a hardened Debian server with Docker. Now that our server is running, we need to deploy services to manage, monitor, and easily access our projects.</p>
<p>In this guide, we&rsquo;ll deploy three essential stacks. First, <strong>Nginx Proxy Manager (NPM)</strong> will act as our server&rsquo;s front door and create a shared network for our containers. Second, we&rsquo;ll set up a professional-grade monitoring stack with <strong>Prometheus</strong> and <strong>Grafana</strong>. Finally, we&rsquo;ll deploy a <strong>Homer</strong> dashboard to create a beautiful and convenient launchpad for all our services.</p>
<hr>
<h3 id="1-the-management-layer-nginx-proxy-manager-npm-">1. The Management Layer: Nginx Proxy Manager (NPM) üåê<a hidden class="anchor" aria-hidden="true" href="#1-the-management-layer-nginx-proxy-manager-npm-">#</a></h3>
<p>Before we can deploy our other services, we need a way to manage connections between them. NPM will act as our reverse proxy and, crucially, will create the shared Docker network that all our other services will connect to.</p>
<h4 id="a-deploy-nginx-proxy-manager"><strong>A. Deploy Nginx Proxy Manager</strong><a hidden class="anchor" aria-hidden="true" href="#a-deploy-nginx-proxy-manager">#</a></h4>
<p>First, let&rsquo;s create a directory and the <code>docker-compose.yml</code> file for NPM.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Create the directory</span>
</span></span><span style="display:flex;"><span>mkdir -p ~/docker/npm
</span></span><span style="display:flex;"><span>cd ~/docker/npm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create the docker-compose.yml</span>
</span></span><span style="display:flex;"><span>nano docker-compose.yml
</span></span></code></pre></div><p>Paste in the following configuration. This file defines the NPM service and creates a network named <code>npm_default</code>.</p>
<pre tabindex="0"><code>services:
  app:
    image: &#39;jc21/nginx-proxy-manager:latest&#39;
    container_name: npm-app-1
    restart: unless-stopped
    ports:
      - &#39;80:80&#39;
      - &#39;443:443&#39;
      - &#39;81:81&#39;
    volumes:
      - ./data:/data
      - ./letsencrypt:/etc/letsencrypt
networks:
  default:
    name: npm_default
</code></pre><p>Launch it with</p>
<pre tabindex="0"><code>docker compose up -d
</code></pre><p>You can now log in to the admin UI at <code>http://&lt;your-server-ip&gt;:81</code>.</p>
<hr>
<h3 id="2-the-monitoring-stack-">2. The Monitoring Stack üìä<a hidden class="anchor" aria-hidden="true" href="#2-the-monitoring-stack-">#</a></h3>
<p>With our shared network in place, we can now deploy our monitoring stack.</p>
<ul>
<li>
<p><strong>Prometheus:</strong> Collects all the metrics.</p>
</li>
<li>
<p><strong>Node Exporter:</strong> Exposes the server&rsquo;s hardware metrics.</p>
</li>
<li>
<p><strong>cAdvisor:</strong> Exposes Docker container metrics.</p>
</li>
<li>
<p><strong>Grafana:</strong> Visualizes all the data in beautiful dashboards.</p>
</li>
</ul>
<h4 id="a-create-the-prometheus-configuration"><strong>A. Create the Prometheus Configuration</strong><a hidden class="anchor" aria-hidden="true" href="#a-create-the-prometheus-configuration">#</a></h4>
<p>Prometheus needs a config file to know what to monitor.</p>
<pre tabindex="0"><code># Create the project directory
mkdir -p ~/docker/monitoring
cd ~/docker/monitoring

# Create the prometheus.yml file
nano prometheus.yml
</code></pre><p>Paste in the following configuration:</p>
<pre tabindex="0"><code>global:
  scrape_interval: 15s

scrape_configs:
  - job_name: &#39;prometheus&#39;
    static_configs:
      - targets: [&#39;localhost:9090&#39;]
  - job_name: &#39;node-exporter&#39;
    static_configs:
      - targets: [&#39;node-exporter:9100&#39;]
  - job_name: &#39;cadvisor&#39;
    static_configs:
      - targets: [&#39;cadvisor:8080&#39;]
</code></pre><h4 id="b-deploy-the-stack-with-docker-compose"><strong>B. Deploy the Stack with Docker Compose</strong><a hidden class="anchor" aria-hidden="true" href="#b-deploy-the-stack-with-docker-compose">#</a></h4>
<p>Next, create the <code>docker-compose.yml</code> file in the same <code>~/docker/monitoring</code> directory.</p>
<pre tabindex="0"><code>nano docker-compose.yml
</code></pre><p>This file defines all four monitoring services and tells them to connect to the <code>npm_default</code> network we created earlier.</p>
<pre tabindex="0"><code>services:
  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    restart: unless-stopped
    ports:
      - &#34;9090:9090&#34;
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus
    networks:
      - default

  grafana:
    image: grafana/grafana:latest
    container_name: grafana
    restart: unless-stopped
    ports:
      - &#34;3001:3000&#34;
    volumes:
      - grafana_data:/var/lib/grafana
    networks:
      - default

  node-exporter:
    image: prom/node-exporter:latest
    container_name: node-exporter
    restart: unless-stopped
    volumes:
      - /proc:/host/proc:ro
      - /sys:/host/sys:ro
      - /:/rootfs:ro
    command:
      - &#39;--path.procfs=/host/proc&#39;
      - &#39;--path.sysfs=/host/sys&#39;
      - &#39;--path.rootfs=/rootfs&#39;
      - &#39;--collector.filesystem.mount-points-exclude=^/(sys|proc|dev|host|etc)($$|/)&#39;
    networks:
      - default

  cadvisor:
    image: gcr.io/cadvisor/cadvisor:latest
    container_name: cadvisor
    restart: unless-stopped
    ports:
      - &#34;8081:8080&#34;
    volumes:
      - /:/rootfs:ro
      - /var/run:/var/run:rw
      - /sys:/sys:ro
      - /var/lib/docker/:/var/lib/docker:ro
    networks:
      - default

volumes:
  prometheus_data:
  grafana_data:

networks:
  default:
    name: npm_default
    external: true
</code></pre><p>Now, launch the stack:</p>
<pre tabindex="0"><code>docker compose up -d
</code></pre><h4 id="c-configure-grafana"><strong>C. Configure Grafana</strong><a hidden class="anchor" aria-hidden="true" href="#c-configure-grafana">#</a></h4>
<p>Log in to Grafana at <code>http://&lt;your-server-ip&gt;:3001</code> (default: <code>admin</code>/<code>admin</code>).</p>
<ol>
<li>
<p><strong>Add Data Source:</strong> Go to Connections &gt; Data Sources, add a <strong>Prometheus</strong> source, and set the URL to <code>http://prometheus:9090</code>.</p>
</li>
<li>
<p><strong>Import Dashboards:</strong> Go to Dashboards &gt; New &gt; Import and add these dashboards by ID:</p>
<ul>
<li>
<p><strong>Node Exporter Full (ID: <code>1860</code>)</strong></p>
</li>
<li>
<p><strong>Docker Host/Container Metrics (ID: <code>193</code>)</strong></p>
</li>
</ul>
</li>
</ol>
<hr>
<h3 id="3-the-homer-launchpad-dashboard-">3. The Homer Launchpad Dashboard üöÄ<a hidden class="anchor" aria-hidden="true" href="#3-the-homer-launchpad-dashboard-">#</a></h3>
<p>Finally, let&rsquo;s deploy Homer as our beautiful start page with custom icons.</p>
<ol>
<li>
<p><strong>Create Directories &amp; Download Icons:</strong> First, create a directory for Homer and an <code>assets</code> subdirectory. Then, <code>cd</code> into the <code>assets</code> folder and download the icons.</p>
<pre tabindex="0"><code>mkdir -p ~/docker/homer/assets
cd ~/docker/homer/assets
wget -O grafana.png [https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/grafana.png](https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/grafana.png)
wget -O prometheus.png [https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/prometheus.png](https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/prometheus.png)
wget -O cadvisor.png [https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/cadvisor.png](https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/cadvisor.png)
wget -O npm.png [https://nginxproxymanager.com/icon.png](https://nginxproxymanager.com/icon.png)
</code></pre></li>
<li>
<p><strong>Create Configuration:</strong> Go back to the main <code>homer</code> directory and create the <code>config.yml</code> file.</p>
<pre tabindex="0"><code>cd ~/docker/homer
nano config.yml
</code></pre><p>Paste in the following configuration. The <code>logo:</code> lines point to the icons we just downloaded.</p>
<pre tabindex="0"><code>---
title: &#34;Homelab Dashboard&#34;
subtitle: &#34;Server Management&#34;
theme: &#34;dark&#34;

services:
  - name: &#34;Management&#34;
    icon: &#34;fas fa-server&#34;
    items:
      - name: &#34;Nginx Proxy Manager&#34;
        logo: &#34;assets/tools/npm.png&#34;
        subtitle: &#34;Reverse Proxy Admin&#34;
        url: &#34;http://&lt;your-server-ip&gt;:81&#34;

  - name: &#34;Monitoring&#34;
    icon: &#34;fas fa-chart-bar&#34;
    items:
      - name: &#34;Grafana&#34;
        logo: &#34;assets/tools/grafana.png&#34;
        subtitle: &#34;Metrics Dashboard&#34;
        url: &#34;http://&lt;your-server-ip&gt;:3001&#34;
      - name: &#34;Prometheus&#34;
        logo: &#34;assets/tools/prometheus.png&#34;
        subtitle: &#34;Metrics Database&#34;
        url: &#34;http://&lt;your-server-ip&gt;:9090&#34;
      - name: &#34;cAdvisor&#34;
        logo: &#34;assets/tools/cadvisor.png&#34;
        subtitle: &#34;Container Metrics&#34;
        url: &#34;http://&lt;your-server-ip&gt;:8081&#34;
</code></pre></li>
<li>
<p><strong>Create Docker Compose File:</strong> Finally, create the <code>docker-compose.yml</code> file.</p>
<pre tabindex="0"><code>nano docker-compose.yml
</code></pre><p>This configuration connects Homer to our shared network.</p>
<pre tabindex="0"><code>services:
  homer:
    image: b4bz/homer
    container_name: homer
    volumes:
      - ./config.yml:/www/assets/config.yml
      - ./assets:/www/assets/tools
    ports:
      - &#34;8090:8080&#34;
    restart: unless-stopped
    networks:
      - npm_default

networks:
  npm_default:
    external: true
</code></pre></li>
<li>
<p><strong>Launch:</strong> Run <code>docker compose up -d</code>. You can now access your new dashboard with custom icons at <code>http://&lt;your-server-ip&gt;:8090</code>.</p>
</li>
</ol>
<h3 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h3>
<p>Our homelab now has a powerful management and monitoring foundation. Nginx Proxy Manager is ready to direct traffic, Grafana is visualizing our server&rsquo;s health, and Homer provides a central launchpad.</p>
<p>In the next part of the series, we&rsquo;ll deploy our core network service, <strong>AdGuard Home</strong>, and use NPM to create clean, memorable local domains for all the applications we set up today. Stay tuned!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/homelab/">Homelab</a></li>
      <li><a href="http://localhost:1313/tags/docker/">Docker</a></li>
      <li><a href="http://localhost:1313/tags/nginx-proxy-manager/">Nginx Proxy Manager</a></li>
      <li><a href="http://localhost:1313/tags/reverse-proxy/">Reverse Proxy</a></li>
      <li><a href="http://localhost:1313/tags/grafana/">Grafana</a></li>
      <li><a href="http://localhost:1313/tags/prometheus/">Prometheus</a></li>
      <li><a href="http://localhost:1313/tags/monitoring/">Monitoring</a></li>
      <li><a href="http://localhost:1313/tags/homer/">Homer</a></li>
      <li><a href="http://localhost:1313/tags/self-hosting/">Self-Hosting</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="http://localhost:1313/">Prajwol Bikram Adhikari</a> ¬∑ <a href="/privacy-policy/">Privacy Policy</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
